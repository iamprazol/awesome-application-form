jQuery(document).ready(function(i){i("#awesome-application-form").submit(a=>{a.preventDefault(),a.stopPropagation(),i("#alerts-box").html(""),i(".aaf-error").remove();a=i("#awesome-application-form").serialize();i.ajax({url:awesome_application_form_script_params.ajax_url,data:{action:"awesome_application_form_submit_form",security:awesome_application_form_script_params.awesome_application_form_submit_nonce,formData:a},type:"POST",beforeSend:function(){i("#aaf-submit-btn").text(awesome_application_form_script_params.awesome_application_form_submitting_button_text).prop("disabled",!0)},success:function(e){e.success?(i("#alerts-box").html(i("#alerts-box").html()+"<div class='aaf-success'>"+e.data.message+"</div>"),i("#awesome-application-form").each(function(){this.reset()}),i(".aaf-file-details").remove()):e.data.field_error?Object.keys(e.data.field_error).map(a=>{i("#"+a.split("_error")[0]).closest(".aaf-input-row").append('<label class="aaf-error" for="'+a.split("_error")[0]+'">'+e.data.field_error[a]+"</label>")}):i("#alerts-box").html(i("#alerts-box").html()+"<div class='aaf-error'>"+e.data.message+"</div>"),i("#aaf-submit-btn").text(awesome_application_form_script_params.awesome_application_form_submit_button_text).prop("disabled",!1),i(window).scrollTop(i(document).find(".awesome_application_form_wrap").find(".aaf-success, .aaf-error").offset().top)}})}),i(document).ready(function(){i(document).on("change","#aaf-user-file",function(){var a=new FormData;this.files&&this.files[0]&&a.append("file",this.files[0]),a.append("nonce",awesome_application_form_script_params.cv_upload_nonce),a.append("action","awesome_application_form_attachment_upload"),i(".aaf-file-uploaded").html("<div class='file-info-section aaf-file-details'><div class='file-info aaf-file-thumb'><p class='file-name'>"+awesome_application_form_script_params.awesome_application_form_uploading_text+"</p></div></div>"),i.ajax({type:"POST",url:awesome_application_form_script_params.ajax_url,data:a,processData:!1,contentType:!1,success:function(a){var e,t;a.success&&(i(".aaf-file-uploaded").html(""),e=a.data.attachment_id,t=(a=a.data.attachment_url).split("/").pop(),result=(result='<div class="file-info-section aaf-file-details"><div class="file-image"><img width="30" height="30" src="/wp-content/plugins/awesome-application-form/assets/img/default.svg" /></div><div class="file-info aaf-file-thumb">')+'<a href="'+a+'" target="_blank" class="aaf-attachment-link"><p class="file-name">'+t+"</p></a></div>",i("#aaf-file-input").val(e),i(".aaf-file-uploaded").append(result))}})})})});